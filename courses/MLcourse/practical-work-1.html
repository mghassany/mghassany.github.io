<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Practical Work 1 | Machine Learning</title>
<meta name="author" content="Mohamad Ghassany">
<meta name="description" content="1.8 Some basics  1.8.1 Basic Commands  uses functions to perform operations. To run a function called funcname,we type funcname(input1, input2) , where the inputs (or arguments) input1 and input2...">
<meta name="generator" content="bookdown 0.24.10 with bs4_book()">
<meta property="og:title" content="Practical Work 1 | Machine Learning">
<meta property="og:type" content="book">
<meta property="og:description" content="1.8 Some basics  1.8.1 Basic Commands  uses functions to perform operations. To run a function called funcname,we type funcname(input1, input2) , where the inputs (or arguments) input1 and input2...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Practical Work 1 | Machine Learning">
<meta name="twitter:description" content="1.8 Some basics  1.8.1 Basic Commands  uses functions to perform operations. To run a function called funcname,we type funcname(input1, input2) , where the inputs (or arguments) input1 and input2...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><script type="text/x-mathjax-config">
    const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
    for (let popover of popovers){
      const div = document.createElement('div');
      div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
      div.innerHTML = popover.getAttribute('data-content');
      
      // Will this work with TeX on its own line?
      var has_math = div.querySelector("span.math");
      if (has_math) {
        document.body.appendChild(div);
      	MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
      	MathJax.Hub.Queue(function(){
          popover.setAttribute('data-content', div.innerHTML);
      	})
      }
    }
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="css/ims-style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Machine Learning</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="introduction.html">Introduction</a></li>
<li class="book-part">Supervised Learning</li>
<li class="book-part">Regression</li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">1</span> Linear Regression</a></li>
<li><a class="active" href="practical-work-1.html">Practical Work 1</a></li>
<li><a class="" href="multiple-linear-regression.html"><span class="header-section-number">2</span> Multiple Linear Regression</a></li>
<li><a class="" href="pw-2.html">PW 2</a></li>
<li class="book-part">Classification</li>
<li><a class="" href="logistic-regression.html"><span class="header-section-number">3</span> Logistic Regression</a></li>
<li><a class="" href="pw-3.html">PW 3</a></li>
<li><a class="" href="discriminant-analysis.html"><span class="header-section-number">4</span> Discriminant Analysis</a></li>
<li><a class="" href="pw-4.html">PW 4</a></li>
<li><a class="" href="decision-trees-random-forests.html"><span class="header-section-number">5</span> Decision Trees &amp; Random Forests</a></li>
<li><a class="" href="pw-5.html">PW 5</a></li>
<li class="book-part">Dimensionality Reduction</li>
<li><a class="" href="principal-components-analysis.html"><span class="header-section-number">6</span> Principal Components Analysis</a></li>
<li><a class="" href="pw-6.html">PW 6</a></li>
<li class="book-part">Unsupervised Learning</li>
<li><a class="" href="kmeans-hierarchical-clustering.html"><span class="header-section-number">7</span> Kmeans &amp; Hierarchical Clustering</a></li>
<li><a class="" href="pw-7.html">PW 7</a></li>
<li><a class="" href="gaussian-mixture-models-em.html"><span class="header-section-number">8</span> Gaussian Mixture Models &amp; EM</a></li>
<li><a class="" href="pw-8.html">PW 8</a></li>
<li class="book-part">Hackathon</li>
<li><a class="" href="hackathon.html">Hackathon</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="final-grades.html"><span class="header-section-number">A</span> Final Grades</a></li>
<li><a class="" href="app-introRStudio.html"><span class="header-section-number">B</span> Introduction to RStudio</a></li>
<li><a class="" href="app-ht.html"><span class="header-section-number">C</span> Review on hypothesis testing</a></li>
<li><a class="" href="use-qual.html"><span class="header-section-number">D</span> Use of qualitative predictors</a></li>
<li><a class="" href="model-selection.html"><span class="header-section-number">E</span> Model Selection</a></li>
<li><a class="" href="references-and-credits.html"><span class="header-section-number">F</span> References and Credits</a></li>
<li><a class="" href="other-references.html"><span class="header-section-number">G</span> Other References</a></li>
<li><a class="" href="main-references-credits.html">Main References &amp; Credits</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="practical-work-1" class="section level1 unnumbered">
<h1>Practical Work 1<a class="anchor" aria-label="anchor" href="#practical-work-1"><i class="fas fa-link"></i></a>
</h1>
<div id="some-basics" class="section level2" number="1.8">
<h2>
<span class="header-section-number">1.8</span> Some <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> basics<a class="anchor" aria-label="anchor" href="#some-basics"><i class="fas fa-link"></i></a>
</h2>
<div id="basic-commands" class="section level3" number="1.8.1">
<h3>
<span class="header-section-number">1.8.1</span> Basic Commands<a class="anchor" aria-label="anchor" href="#basic-commands"><i class="fas fa-link"></i></a>
</h3>
<p><svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> uses functions to perform operations. To run a function called <code>funcname</code>,we type <code>funcname(input1, input2)</code> , where the inputs (or arguments) <code>input1</code> and <code>input2</code> tell <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> how to run the function. A function can have any number of inputs. For example, to create a vector of numbers, we use the function <code><a href="https://rdrr.io/r/base/c.html">c()</a></code> (for <em>concatenate</em>).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">5</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#ans&gt; [1] 1 3 2 5</span></code></pre></div>
<p>Note that the <code>&gt;</code> is not part of the command; rather, it is printed by <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> to indicate that it is ready for another command to be entered. We can also save things using <code>=</code> rather than <code>&lt;-</code>. Note that the answer in the code above is followed by <code>#ans&gt;</code> while in the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> console it is not.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">6</span>,<span class="fl">2</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#ans&gt; [1] 1 6 2</span>
<span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 3</span>
<span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 3</span>
<span class="va">x</span><span class="op">+</span><span class="va">y</span>
<span class="co">#ans&gt; [1]  2 10  5</span></code></pre></div>
<p>Hitting the <em>up arrow</em> multiple times will display the previous commands, which can then be edited. This is useful since one often wishes to repeat a similar command.</p>
<p>The <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> function allows us to look at a list of all of the objects, such <code><a href="https://rdrr.io/r/base/ls.html">ls()</a></code> as data and functions, that we have saved so far. The <code><a href="https://rdrr.io/r/base/rm.html">rm()</a></code> function can be used to delete any object that we don’t want.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#ans&gt;  [1] "A"                        "Auto"                    </span>
<span class="co">#ans&gt;  [3] "B"                        "Boston_bagging"          </span>
<span class="co">#ans&gt;  [5] "Boston_bagging_pred"      "Boston_boost"            </span>
<span class="co">#ans&gt;  [7] "Boston_boost_pred"        "Boston_forest"           </span>
<span class="co">#ans&gt;  [9] "Boston_forest_pred"       "Boston_idx"              </span>
<span class="co">#ans&gt; [11] "Boston_lm"                "Boston_lm_pred"          </span>
<span class="co">#ans&gt; [13] "Boston_test"              "Boston_train"            </span>
<span class="co">#ans&gt; [15] "Boston_tree"              "Boston_tree_pred"        </span>
<span class="co">#ans&gt; [17] "challenger"               "d"                       </span>
<span class="co">#ans&gt; [19] "data1"                    "data2"                   </span>
<span class="co">#ans&gt; [21] "dataFrame"                "dendro"                  </span>
<span class="co">#ans&gt; [23] "error"                    "error_squared"           </span>
<span class="co">#ans&gt; [25] "EU"                       "eurojob"                 </span>
<span class="co">#ans&gt; [27] "iris"                     "kmeansObj"               </span>
<span class="co">#ans&gt; [29] "ligue1"                   "ligue1_scaled"           </span>
<span class="co">#ans&gt; [31] "M"                        "mod"                     </span>
<span class="co">#ans&gt; [33] "model"                    "MSE"                     </span>
<span class="co">#ans&gt; [35] "multiplot"                "myDf"                    </span>
<span class="co">#ans&gt; [37] "myList"                   "n"                       </span>
<span class="co">#ans&gt; [39] "names.available.packages" "nasa"                    </span>
<span class="co">#ans&gt; [41] "Notes"                    "p"                       </span>
<span class="co">#ans&gt; [43] "p1"                       "p2"                      </span>
<span class="co">#ans&gt; [45] "p3"                       "p4"                      </span>
<span class="co">#ans&gt; [47] "pca"                      "pcairis"                 </span>
<span class="co">#ans&gt; [49] "pdf2png"                  "Rcmdr.related.packages"  </span>
<span class="co">#ans&gt; [51] "res.pca"                  "rmse"                    </span>
<span class="co">#ans&gt; [53] "source"                   "sumMod"                  </span>
<span class="co">#ans&gt; [55] "test"                     "testing_data"            </span>
<span class="co">#ans&gt; [57] "train"                    "training_data"           </span>
<span class="co">#ans&gt; [59] "treeAve"                  "treeComp"                </span>
<span class="co">#ans&gt; [61] "treeSingle"               "variables"               </span>
<span class="co">#ans&gt; [63] "vec"                      "x"                       </span>
<span class="co">#ans&gt; [65] "X"                        "x1"                      </span>
<span class="co">#ans&gt; [67] "x2"                       "x3"                      </span>
<span class="co">#ans&gt; [69] "x4"                       "y"                       </span>
<span class="co">#ans&gt; [71] "y_hat"                    "yclass"</span>
<span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#ans&gt;  [1] "A"                        "Auto"                    </span>
<span class="co">#ans&gt;  [3] "B"                        "Boston_bagging"          </span>
<span class="co">#ans&gt;  [5] "Boston_bagging_pred"      "Boston_boost"            </span>
<span class="co">#ans&gt;  [7] "Boston_boost_pred"        "Boston_forest"           </span>
<span class="co">#ans&gt;  [9] "Boston_forest_pred"       "Boston_idx"              </span>
<span class="co">#ans&gt; [11] "Boston_lm"                "Boston_lm_pred"          </span>
<span class="co">#ans&gt; [13] "Boston_test"              "Boston_train"            </span>
<span class="co">#ans&gt; [15] "Boston_tree"              "Boston_tree_pred"        </span>
<span class="co">#ans&gt; [17] "challenger"               "d"                       </span>
<span class="co">#ans&gt; [19] "data1"                    "data2"                   </span>
<span class="co">#ans&gt; [21] "dataFrame"                "dendro"                  </span>
<span class="co">#ans&gt; [23] "error"                    "error_squared"           </span>
<span class="co">#ans&gt; [25] "EU"                       "eurojob"                 </span>
<span class="co">#ans&gt; [27] "iris"                     "kmeansObj"               </span>
<span class="co">#ans&gt; [29] "ligue1"                   "ligue1_scaled"           </span>
<span class="co">#ans&gt; [31] "M"                        "mod"                     </span>
<span class="co">#ans&gt; [33] "model"                    "MSE"                     </span>
<span class="co">#ans&gt; [35] "multiplot"                "myDf"                    </span>
<span class="co">#ans&gt; [37] "myList"                   "n"                       </span>
<span class="co">#ans&gt; [39] "names.available.packages" "nasa"                    </span>
<span class="co">#ans&gt; [41] "Notes"                    "p"                       </span>
<span class="co">#ans&gt; [43] "p1"                       "p2"                      </span>
<span class="co">#ans&gt; [45] "p3"                       "p4"                      </span>
<span class="co">#ans&gt; [47] "pca"                      "pcairis"                 </span>
<span class="co">#ans&gt; [49] "pdf2png"                  "Rcmdr.related.packages"  </span>
<span class="co">#ans&gt; [51] "res.pca"                  "rmse"                    </span>
<span class="co">#ans&gt; [53] "source"                   "sumMod"                  </span>
<span class="co">#ans&gt; [55] "test"                     "testing_data"            </span>
<span class="co">#ans&gt; [57] "train"                    "training_data"           </span>
<span class="co">#ans&gt; [59] "treeAve"                  "treeComp"                </span>
<span class="co">#ans&gt; [61] "treeSingle"               "variables"               </span>
<span class="co">#ans&gt; [63] "vec"                      "X"                       </span>
<span class="co">#ans&gt; [65] "x1"                       "x2"                      </span>
<span class="co">#ans&gt; [67] "x3"                       "x4"                      </span>
<span class="co">#ans&gt; [69] "y"                        "y_hat"                   </span>
<span class="co">#ans&gt; [71] "yclass"</span></code></pre></div>
</div>
<div id="vectors" class="section level3" number="1.8.2">
<h3>
<span class="header-section-number">1.8.2</span> Vectors<a class="anchor" aria-label="anchor" href="#vectors"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># A handy way of creating sequences is the operator :</span>
<span class="co"># Sequence from 1 to 5</span>
<span class="fl">1</span><span class="op">:</span><span class="fl">5</span>
<span class="co">#ans&gt; [1] 1 2 3 4 5</span>

<span class="co"># Storing some vectors</span>
<span class="va">vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4.12</span>, <span class="fl">0</span>, <span class="fl">1.1</span>, <span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">vec</span>
<span class="co">#ans&gt; [1] -4.12  0.00  1.10  1.00  3.00  4.00</span>

<span class="co"># Entry-wise operations</span>
<span class="va">vec</span> <span class="op">+</span> <span class="fl">1</span>
<span class="co">#ans&gt; [1] -3.12  1.00  2.10  2.00  4.00  5.00</span>
<span class="va">vec</span><span class="op">^</span><span class="fl">2</span>
<span class="co">#ans&gt; [1] 16.97  0.00  1.21  1.00  9.00 16.00</span>

<span class="co"># If you want to access a position of a vector, use [position]</span>
<span class="va">vec</span><span class="op">[</span><span class="fl">6</span><span class="op">]</span>
<span class="co">#ans&gt; [1] 4</span>

<span class="co"># You also can change elements</span>
<span class="va">vec</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="op">-</span><span class="fl">1</span>
<span class="va">vec</span>
<span class="co">#ans&gt; [1] -4.12 -1.00  1.10  1.00  3.00  4.00</span>

<span class="co"># If you want to access all the elements except a position, use [-position]</span>
<span class="va">vec</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span>
<span class="co">#ans&gt; [1] -4.12  1.10  1.00  3.00  4.00</span>

<span class="co"># Also with vectors as indexes</span>
<span class="va">vec</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span>
<span class="co">#ans&gt; [1] -4.12 -1.00</span>

<span class="co"># And also</span>
<span class="va">vec</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span>
<span class="co">#ans&gt; [1] 1.1 1.0 3.0 4.0</span></code></pre></div>

<div class="rmdexercise">
<p>Do the following:</p>
<ul>
<li>Create the vector <span class="math inline">\(x=(1, 7, 3, 4)\)</span>.</li>
<li>Create the vector <span class="math inline">\(y=(100, 99, 98, ..., 2, 1)\)</span>.</li>
<li>Compute <span class="math inline">\(x_3+y_4\)</span> and <span class="math inline">\(\cos(x_3) + \sin(x_2) e^{-y_2}\)</span>. (Answers: <code>100</code>, <code>-0.9899925</code>)</li>
<li>Set <span class="math inline">\(x_{3}=0\)</span> and <span class="math inline">\(y_{2}=-1\)</span>. Recompute the previous expressions. (Answers: <code>97</code>, <code>2.785875</code>)</li>
<li>Index <span class="math inline">\(y\)</span> by <span class="math inline">\(x+1\)</span> and store it as <code>z</code>. What is the output? (Answer: <code>z</code> is <code>c(-1, 93, 100, 96)</code>)</li>
</ul>
</div>
</div>
<div id="matrices-data-frames-and-lists" class="section level3" number="1.8.3">
<h3>
<span class="header-section-number">1.8.3</span> Matrices, data frames and lists<a class="anchor" aria-label="anchor" href="#matrices-data-frames-and-lists"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># A matrix is an array of vectors</span>
<span class="va">A</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="va">A</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    1    3</span>
<span class="co">#ans&gt; [2,]    2    4</span>

<span class="co"># Another matrix</span>
<span class="va">B</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, nrow <span class="op">=</span> <span class="fl">2</span>, ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">B</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    1    2</span>
<span class="co">#ans&gt; [2,]    3    4</span>

<span class="co"># Binding by rows or columns</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>
<span class="co">#ans&gt;      [,1] [,2] [,3]</span>
<span class="co">#ans&gt; [1,]    1    2    3</span>
<span class="co">#ans&gt; [2,]    4    5    6</span>
<span class="fu"><a href="https://rdrr.io/r/base/cbind.html">cbind</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    1    4</span>
<span class="co">#ans&gt; [2,]    2    5</span>
<span class="co">#ans&gt; [3,]    3    6</span>

<span class="co"># Entry-wise operations</span>
<span class="va">A</span> <span class="op">+</span> <span class="fl">1</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    2    4</span>
<span class="co">#ans&gt; [2,]    3    5</span>
<span class="va">A</span> <span class="op">*</span> <span class="va">B</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    1    6</span>
<span class="co">#ans&gt; [2,]    6   16</span>

<span class="co"># Accessing elements</span>
<span class="va">A</span><span class="op">[</span><span class="fl">2</span>, <span class="fl">1</span><span class="op">]</span> <span class="co"># Element (2, 1)</span>
<span class="co">#ans&gt; [1] 2</span>
<span class="va">A</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span> <span class="co"># First row</span>
<span class="co">#ans&gt; [1] 1 3</span>
<span class="va">A</span><span class="op">[</span>, <span class="fl">2</span><span class="op">]</span> <span class="co"># Second column</span>
<span class="co">#ans&gt; [1] 3 4</span>

<span class="co"># A data frame is a matrix with column names</span>
<span class="co"># Useful when you have multiple variables</span>
<span class="va">myDf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>var1 <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, var2 <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>
<span class="va">myDf</span>
<span class="co">#ans&gt;   var1 var2</span>
<span class="co">#ans&gt; 1    1    3</span>
<span class="co">#ans&gt; 2    2    4</span>

<span class="co"># You can change names</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">myDf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"newname1"</span>, <span class="st">"newname2"</span><span class="op">)</span>
<span class="va">myDf</span>
<span class="co">#ans&gt;   newname1 newname2</span>
<span class="co">#ans&gt; 1        1        3</span>
<span class="co">#ans&gt; 2        2        4</span>

<span class="co"># The nice thing is that you can access variables by its name with the $ operator</span>
<span class="va">myDf</span><span class="op">$</span><span class="va">newname1</span>
<span class="co">#ans&gt; [1] 1 2</span>

<span class="co"># And create new variables also (it has to be of the same</span>
<span class="co"># length as the rest of variables)</span>
<span class="va">myDf</span><span class="op">$</span><span class="va">myNewVariable</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>
<span class="va">myDf</span>
<span class="co">#ans&gt;   newname1 newname2 myNewVariable</span>
<span class="co">#ans&gt; 1        1        3             0</span>
<span class="co">#ans&gt; 2        2        4             1</span>

<span class="co"># A list is a collection of arbitrary variables</span>
<span class="va">myList</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>vec <span class="op">=</span> <span class="va">vec</span>, A <span class="op">=</span> <span class="va">A</span>, myDf <span class="op">=</span> <span class="va">myDf</span><span class="op">)</span>

<span class="co"># Access elements by names</span>
<span class="va">myList</span><span class="op">$</span><span class="va">vec</span>
<span class="co">#ans&gt; [1] -4.12 -1.00  1.10  1.00  3.00  4.00</span>
<span class="va">myList</span><span class="op">$</span><span class="va">A</span>
<span class="co">#ans&gt;      [,1] [,2]</span>
<span class="co">#ans&gt; [1,]    1    3</span>
<span class="co">#ans&gt; [2,]    2    4</span>
<span class="va">myList</span><span class="op">$</span><span class="va">myDf</span>
<span class="co">#ans&gt;   newname1 newname2 myNewVariable</span>
<span class="co">#ans&gt; 1        1        3             0</span>
<span class="co">#ans&gt; 2        2        4             1</span>

<span class="co"># Reveal the structure of an object</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">myList</span><span class="op">)</span>
<span class="co">#ans&gt; List of 3</span>
<span class="co">#ans&gt;  $ vec : num [1:6] -4.12 -1 1.1 1 3 4</span>
<span class="co">#ans&gt;  $ A   : int [1:2, 1:2] 1 2 3 4</span>
<span class="co">#ans&gt;  $ myDf:'data.frame': 2 obs. of  3 variables:</span>
<span class="co">#ans&gt;   ..$ newname1     : int [1:2] 1 2</span>
<span class="co">#ans&gt;   ..$ newname2     : int [1:2] 3 4</span>
<span class="co">#ans&gt;   ..$ myNewVariable: num [1:2] 0 1</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">myDf</span><span class="op">)</span>
<span class="co">#ans&gt; 'data.frame': 2 obs. of  3 variables:</span>
<span class="co">#ans&gt;  $ newname1     : int  1 2</span>
<span class="co">#ans&gt;  $ newname2     : int  3 4</span>
<span class="co">#ans&gt;  $ myNewVariable: num  0 1</span>

<span class="co"># A less lengthy output</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">myList</span><span class="op">)</span>
<span class="co">#ans&gt; [1] "vec"  "A"    "myDf"</span></code></pre></div>
</div>
<div id="graphics" class="section level3" number="1.8.4">
<h3>
<span class="header-section-number">1.8.4</span> Graphics<a class="anchor" aria-label="anchor" href="#graphics"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function is the primary way to plot data in <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> . For instance, <code>plot(x,y)</code> produces a scatterplot of the numbers in <code>x</code> versus the numbers in <code>y</code>. There are many additional options that can be passed in to the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function. For example, passing in the argument <code>xlab</code> will result in a label on the <code>x-axis</code>. To find out more information about the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function, type <code><a href="https://rdrr.io/r/graphics/plot.default.html">?plot</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>
<span class="co"># The rnorm() function generates a vector of random normal variables,</span>
<span class="co"># rnorm() with first argument n the sample size. Each time we call this</span>
<span class="co"># function, we will get a different answer.</span>
<span class="va">y</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-16-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># with titles</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>,<span class="va">y</span>,xlab<span class="op">=</span><span class="st">"this is the x-axis"</span>,ylab<span class="op">=</span><span class="st">"this is the y-axis"</span>,
main<span class="op">=</span><span class="st">"Plot of X vs Y"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-16-2.png" width="70%" style="display: block; margin: auto;"></div>
</div>
<div id="distributions" class="section level3" number="1.8.5">
<h3>
<span class="header-section-number">1.8.5</span> Distributions<a class="anchor" aria-label="anchor" href="#distributions"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># R allows to sample [r], compute density/probability mass [d],</span>
<span class="co"># compute distribution function [p] and compute quantiles [q] for several</span>
<span class="co"># continuous and discrete distributions. The format employed is [rdpq]name,</span>
<span class="co"># where name stands for:</span>
<span class="co"># - norm -&gt; Normal</span>
<span class="co"># - unif -&gt; Uniform</span>
<span class="co"># - exp -&gt; Exponential</span>
<span class="co"># - t -&gt; Student's t</span>
<span class="co"># - f -&gt; Snedecor's F (Fisher)</span>
<span class="co"># - chisq -&gt; Chi squared</span>
<span class="co"># - pois -&gt; Poisson</span>
<span class="co"># - binom -&gt; Binomial</span>
<span class="co"># More distributions: ?Distributions</span>


<span class="co"># Sampling from a Normal - 100 random points from a N(0, 1)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#ans&gt;  [1]  0.3509 -0.3621  1.3767 -1.4890 -1.0637 -2.7372 -0.1486  0.0355 -0.5935</span>
<span class="co">#ans&gt; [10] -0.2793</span>

<span class="co"># If you want to have always the same result, set the seed of the random number</span>
<span class="co"># generator</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">45678</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#ans&gt;  [1]  1.440 -0.720  0.671 -0.422  0.378 -1.667 -0.508  0.443 -1.799 -0.618</span>

<span class="co"># Plotting the density of a N(0, 1) - the Gauss bell</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span>, l <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">dnorm</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-17-1.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Plotting the distribution function of a N(0, 1)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">4</span>, l <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">pnorm</a></span><span class="op">(</span>q <span class="op">=</span> <span class="va">x</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, type <span class="op">=</span> <span class="st">"l"</span>, lwd <span class="op">=</span> <span class="fl">3</span>, main<span class="op">=</span><span class="st">"The distribution function of a N(0, 1)"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-17-2.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Computing the 95% quantile for a N(0, 1)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">qnorm</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.95</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 1.64</span>

<span class="co"># All distributions have the same syntax: rname(n,...), dname(x,...), dname(p,...)  </span>
<span class="co"># and qname(p,...), but the parameters in ... change. Look them in ?Distributions</span>
<span class="co"># For example, here is que same for the uniform distribution</span>

<span class="co"># Sampling from a U(0, 1)</span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">45678</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#ans&gt;  [1] 0.9251 0.3340 0.2359 0.3366 0.7489 0.9327 0.3365 0.2246 0.6474 0.0808</span>

<span class="co"># Plotting the density of a U(0, 1)</span>
<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span>, l <span class="op">=</span> <span class="fl">100</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">dunif</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, type <span class="op">=</span> <span class="st">"l"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-17-3.png" width="70%" style="display: block; margin: auto;"></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Computing the 95% quantile for a U(0, 1)</span>
<span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">qunif</a></span><span class="op">(</span>p <span class="op">=</span> <span class="fl">0.95</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 0.95</span></code></pre></div>

<div class="rmdexercise">
<p>Do the following:</p>
<ul>
<li>Compute the 90%, 95% and 99% quantiles of a <span class="math inline">\(F\)</span> distribution with <code>df1 = 1</code> and <code>df2 = 5</code>. (Answer: <code>c(4.060420, 6.607891, 16.258177)</code>)</li>
<li>Sample 100 points from a Poisson with <code>lambda = 5</code>.</li>
<li>Plot the density of a <span class="math inline">\(t\)</span> distribution with <code>df = 1</code> (use a sequence spanning from <code>-4</code> to <code>4</code>). Add lines of different colors with the densities for <code>df = 5</code>, <code>df = 10</code>, <code>df = 50</code> and <code>df = 100</code>.
</li>
</ul>
</div>

</div>
<div id="working-directory" class="section level3" number="1.8.6">
<h3>
<span class="header-section-number">1.8.6</span> Working directory<a class="anchor" aria-label="anchor" href="#working-directory"><i class="fas fa-link"></i></a>
</h3>
<p>Your <em>working directory</em> is the folder on your computer in which you are currently working. When you ask R to open a certain file, it will look in the working directory for this file, and when you tell R to save a data file or figure, it will save it in the working directory.</p>
<p>To set your working directory within RStudio you can go to <code>Tools / Set working directory</code>, or use the command <code><a href="https://rdrr.io/r/base/getwd.html">setwd()</a></code>, we put the complete path of the directory between the brackets, do not forget to put the path into quotation marks <code>""</code>.</p>
<p>To know the actual working directory we use <code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code>.</p>
</div>
<div id="loading-data" class="section level3" number="1.8.7">
<h3>
<span class="header-section-number">1.8.7</span> Loading Data<a class="anchor" aria-label="anchor" href="#loading-data"><i class="fas fa-link"></i></a>
</h3>
<p>The <code><a href="https://rdrr.io/r/utils/read.table.html">read.table()</a></code> function is one of the primary ways to import a data set into <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>. The help file <code>?read.table()</code> contains details about how to use this function. We can use the function <code><a href="https://rdrr.io/r/utils/write.table.html">write.table()</a></code> to export data.</p>
<p>Next we will show how to load the data set <code>Auto.data</code> (Download it from <a target="_blank" href="datasets/Auto.data"> here <i class="fa fa-table" aria-hidden="true"></i></a>).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">Auto</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="st">"Auto.data"</span>,header<span class="op">=</span><span class="cn">T</span>,na.strings <span class="op">=</span><span class="st">"?"</span><span class="op">)</span>
<span class="co"># For this file we needed to tell R that the first row is the</span>
<span class="co"># names of the variables.</span>
<span class="co"># na.strings tells R that any time it sees a particular character</span>
<span class="co"># or set of characters (such as a question mark), it should be</span>
<span class="co"># treated as a missing element of the data matrix. </span></code></pre></div>

<div class="rmdtip">
<ul>
<li>If the file is of csv format, we use <code>read.csv</code>.</li>
<li>Always try to look to the file before importing it to <span style="color: Steelblue;"><i class="fab fa-r-project" aria-hidden="true"></i>
</span> (Open it in a text editor. See for example if the first row containes the variables names, if the columns are separated by <code>,</code> or <code>;</code> or ..</li>
<li>For text editors, I suggest <a href="https://www.sublimetext.com/"><code>Sublime Text</code></a> or <a href="https://atom.io/"><code>Atom</code></a>.
</li>
</ul>
</div>

<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">Auto</span><span class="op">)</span> <span class="co"># To see the dimensions of the data set</span>
<span class="co">#ans&gt; [1] 397   9</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">Auto</span><span class="op">)</span> <span class="co"># To see the number of rows</span>
<span class="co">#ans&gt; [1] 397</span>
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">ncol</a></span><span class="op">(</span><span class="va">Auto</span><span class="op">)</span> <span class="co"># To see the number of columns</span>
<span class="co">#ans&gt; [1] 9</span>
<span class="va">Auto</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>,<span class="op">]</span> <span class="co"># The first 4 rows of the data set</span>
<span class="co">#ans&gt;   mpg cylinders displacement horsepower weight acceleration year origin</span>
<span class="co">#ans&gt; 1  18         8          307        130   3504         12.0   70      1</span>
<span class="co">#ans&gt; 2  15         8          350        165   3693         11.5   70      1</span>
<span class="co">#ans&gt; 3  18         8          318        150   3436         11.0   70      1</span>
<span class="co">#ans&gt; 4  16         8          304        150   3433         12.0   70      1</span>
<span class="co">#ans&gt;                        name</span>
<span class="co">#ans&gt; 1 chevrolet chevelle malibu</span>
<span class="co">#ans&gt; 2         buick skylark 320</span>
<span class="co">#ans&gt; 3        plymouth satellite</span>
<span class="co">#ans&gt; 4             amc rebel sst</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Once the data are loaded correctly, we can use names()</span>
<span class="co"># to check the variable names.</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">Auto</span><span class="op">)</span>
<span class="co">#ans&gt; [1] "mpg"          "cylinders"    "displacement" "horsepower"   "weight"      </span>
<span class="co">#ans&gt; [6] "acceleration" "year"         "origin"       "name"</span></code></pre></div>

<div class="rmdtip">
Take a look at this <a href="https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf">(very) short introduction to R</a>. It can be useful.
</div>
</div>
</div>
<div id="regression" class="section level2" number="1.9">
<h2>
<span class="header-section-number">1.9</span> Regression<a class="anchor" aria-label="anchor" href="#regression"><i class="fas fa-link"></i></a>
</h2>
<div id="the-lm-function" class="section level3" number="1.9.1">
<h3>
<span class="header-section-number">1.9.1</span> The <code>lm</code> function<a class="anchor" aria-label="anchor" href="#the-lm-function"><i class="fas fa-link"></i></a>
</h3>
<p>We are going to employ the <code>EU</code> dataset. The <code>EU</code> dataset contains 28 rows with the member states of the European Union (Country), the number of seats assigned under different years (Seats2011, Seats2014), the Cambridge Compromise apportionment (CamCom2011), and the countries population (Population2010,Population2013). Click <a target="_blank" href="datasets/EU.RData"> here <i class="fa fa-table" aria-hidden="true"></i></a> to download the <code>EU</code> dataset.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Load the dataset, when we load an .RData using load()</span>
<span class="co"># function we do not attribute it to a name like we did</span>
<span class="co"># when we used read.table() or when we use read.csv()</span>

<span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="st">"EU.RData"</span><span class="op">)</span></code></pre></div>

<div class="rmdtip">
<p>There are two ways to tell <span style="color: Steelblue;"><i class="fab fa-r-project" aria-hidden="true"></i>
</span> where is the file you want to load/use/import or where to save a file when you write/export/save :</p>
<ol style="list-style-type: decimal">
<li>write the complete path of the files.</li>
<li>set a working directory and put the files in it.
</li>
</ol>
</div>

<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># lm (for linear model) has the syntax: </span>
<span class="co"># lm(formula = response ~ predictor, data = data)</span>
<span class="co"># The response is the y in the model. The predictor is x.</span>
<span class="co"># For example (after loading the EU dataset)</span>
<span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">Seats2011</span> <span class="op">~</span> <span class="va">Population2010</span>, data <span class="op">=</span> <span class="va">EU</span><span class="op">)</span>

<span class="co"># We have saved the linear model into mod, which now contains all the output of lm</span>
<span class="co"># You can see it by typing</span>
<span class="va">mod</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Call:</span>
<span class="co">#ans&gt; lm(formula = Seats2011 ~ Population2010, data = EU)</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Coefficients:</span>
<span class="co">#ans&gt;    (Intercept)  Population2010  </span>
<span class="co">#ans&gt;       7.91e+00        1.08e-06</span>

<span class="co"># mod is indeed a list of objects whose names are</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span>
<span class="co">#ans&gt;  [1] "coefficients"  "residuals"     "effects"       "rank"         </span>
<span class="co">#ans&gt;  [5] "fitted.values" "assign"        "qr"            "df.residual"  </span>
<span class="co">#ans&gt;  [9] "na.action"     "xlevels"       "call"          "terms"        </span>
<span class="co">#ans&gt; [13] "model"</span>

<span class="co"># We can access these elements by $</span>
<span class="co"># For example</span>
<span class="va">mod</span><span class="op">$</span><span class="va">coefficients</span>
<span class="co">#ans&gt;    (Intercept) Population2010 </span>
<span class="co">#ans&gt;       7.91e+00       1.08e-06</span>

<span class="co"># The residuals</span>
<span class="va">mod</span><span class="op">$</span><span class="va">residuals</span>
<span class="co">#ans&gt;        Germany         France United Kingdom          Italy          Spain </span>
<span class="co">#ans&gt;         2.8675        -3.7031        -1.7847         0.0139        -3.5084 </span>
<span class="co">#ans&gt;         Poland        Romania    Netherlands         Greece        Belgium </span>
<span class="co">#ans&gt;         1.9272         1.9434         0.2142         1.8977         2.3994 </span>
<span class="co">#ans&gt;       Portugal Czech Republic        Hungary         Sweden        Austria </span>
<span class="co">#ans&gt;         2.6175         2.7587         3.2898         2.0163         2.0575 </span>
<span class="co">#ans&gt;       Bulgaria        Denmark       Slovakia        Finland        Ireland </span>
<span class="co">#ans&gt;         1.9328        -0.8790        -0.7606        -0.6813        -0.7284 </span>
<span class="co">#ans&gt;      Lithuania         Latvia       Slovenia        Estonia         Cyprus </span>
<span class="co">#ans&gt;         0.4998        -1.3347        -2.1175        -3.3552        -2.7761 </span>
<span class="co">#ans&gt;     Luxembourg          Malta </span>
<span class="co">#ans&gt;        -2.4514        -2.3553</span>

<span class="co"># The fitted values</span>
<span class="va">mod</span><span class="op">$</span><span class="va">fitted.values</span>
<span class="co">#ans&gt;        Germany         France United Kingdom          Italy          Spain </span>
<span class="co">#ans&gt;          96.13          77.70          74.78          72.99          57.51 </span>
<span class="co">#ans&gt;         Poland        Romania    Netherlands         Greece        Belgium </span>
<span class="co">#ans&gt;          49.07          31.06          25.79          20.10          19.60 </span>
<span class="co">#ans&gt;       Portugal Czech Republic        Hungary         Sweden        Austria </span>
<span class="co">#ans&gt;          19.38          19.24          18.71          17.98          16.94 </span>
<span class="co">#ans&gt;       Bulgaria        Denmark       Slovakia        Finland        Ireland </span>
<span class="co">#ans&gt;          16.07          13.88          13.76          13.68          12.73 </span>
<span class="co">#ans&gt;      Lithuania         Latvia       Slovenia        Estonia         Cyprus </span>
<span class="co">#ans&gt;          11.50          10.33          10.12           9.36           8.78 </span>
<span class="co">#ans&gt;     Luxembourg          Malta </span>
<span class="co">#ans&gt;           8.45           8.36</span>

<span class="co"># Summary of the model</span>
<span class="va">sumMod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span>
<span class="va">sumMod</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Call:</span>
<span class="co">#ans&gt; lm(formula = Seats2011 ~ Population2010, data = EU)</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Residuals:</span>
<span class="co">#ans&gt;    Min     1Q Median     3Q    Max </span>
<span class="co">#ans&gt; -3.703 -1.951  0.014  1.980  3.290 </span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Coefficients:</span>
<span class="co">#ans&gt;                Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#ans&gt; (Intercept)    7.91e+00   5.66e-01    14.0  2.6e-13 ***</span>
<span class="co">#ans&gt; Population2010 1.08e-06   1.92e-08    56.3  &lt; 2e-16 ***</span>
<span class="co">#ans&gt; ---</span>
<span class="co">#ans&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Residual standard error: 2.29 on 25 degrees of freedom</span>
<span class="co">#ans&gt;   (1 observation effacée parce que manquante)</span>
<span class="co">#ans&gt; Multiple R-squared:  0.992,   Adjusted R-squared:  0.992 </span>
<span class="co">#ans&gt; F-statistic: 3.17e+03 on 1 and 25 DF,  p-value: &lt;2e-16</span></code></pre></div>
<p>The following table contains a handy cheat sheet of equivalences between <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> code and some of the statistical concepts associated to linear regression.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="51%">
<col width="48%">
</colgroup>
<thead><tr class="header">
<th align="left"><svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg></th>
<th align="left">Statistical concept</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left"><code>x</code></td>
<td align="left">Predictor <span class="math inline">\(X_1,\ldots,X_n\)</span>
</td>
</tr>
<tr class="even">
<td align="left"><code>y</code></td>
<td align="left">Response <span class="math inline">\(Y_1,\ldots,Y_n\)</span>
</td>
</tr>
<tr class="odd">
<td align="left"><code>data &lt;- data.frame(x = x, y = y)</code></td>
<td align="left">Sample <span class="math inline">\((X_1,Y_1),\ldots,(X_n,Y_n)\)</span>
</td>
</tr>
<tr class="even">
<td align="left"><code>model &lt;- lm(y ~ x, data = data)</code></td>
<td align="left">Fitted linear model</td>
</tr>
<tr class="odd">
<td align="left"><code>model$coefficients</code></td>
<td align="left">Fitted coefficients <span class="math inline">\(\hat\beta_0,\hat\beta_1\)</span>
</td>
</tr>
<tr class="even">
<td align="left"><code>model$residuals</code></td>
<td align="left">Fitted residuals <span class="math inline">\(\hat\varepsilon_1,\ldots,\hat\varepsilon_n\)</span>
</td>
</tr>
<tr class="odd">
<td align="left"><code>model$fitted.values</code></td>
<td align="left">Fitted values <span class="math inline">\(\hat Y_1,\ldots,\hat Y_n\)</span>
</td>
</tr>
<tr class="even">
<td align="left"><code>model$df.residual</code></td>
<td align="left">Degrees of freedom <span class="math inline">\(n-2\)</span>
</td>
</tr>
<tr class="odd">
<td align="left"><code>summaryModel &lt;- summary(model)</code></td>
<td align="left">Summary of the fitted linear model</td>
</tr>
<tr class="even">
<td align="left"><code>summaryModel$sigma</code></td>
<td align="left">Fitted residual standard deviation <span class="math inline">\(\hat\sigma\)</span>
</td>
</tr>
<tr class="odd">
<td align="left"><code>summaryModel$r.squared</code></td>
<td align="left">Coefficient of determination <span class="math inline">\(R^2\)</span>
</td>
</tr>
<tr class="even">
<td align="left"><code>summaryModel$fstatistic</code></td>
<td align="left">
<span class="math inline">\(F\)</span>-test</td>
</tr>
<tr class="odd">
<td align="left"><code>anova(model)</code></td>
<td align="left">ANOVA table</td>
</tr>
</tbody>
</table></div>
<div class="rmdexercise">
<p>Do the following:</p>
<ul>
<li>Download The ‘EU’ dataset from <a target="_blank" href="datasets/EU.RData"> here <i class="fa fa-table" aria-hidden="true"></i></a> as an <code>.RData</code> file and load it using the function <code>load</code>.</li>
<li>Compute the regression of <code>CamCom2011</code> into <code>Population2010</code>. Save that model as the variable <code>myModel</code>.</li>
<li>Access the objects <code>residuals</code> and <code>coefficients</code> of <code>myModel</code>.</li>
<li>Compute the summary of <code>myModel</code> and store it as the variable <code>summaryMyModel</code>.</li>
<li>Access the object <code>sigma</code> of <code>summaryMyModel</code>.
</li>
</ul>
</div>

</div>
<div id="boston" class="section level3" number="1.9.2">
<h3>
<span class="header-section-number">1.9.2</span> Predicting House Value: Boston dataset<a class="anchor" aria-label="anchor" href="#boston"><i class="fas fa-link"></i></a>
</h3>
<p>We are going to use a dataset called Boston which is part of the <code>MASS</code> package. It recordes the median value of houses for 506 neighborhoods around Boston. Our task is to predict the median house value (<code>medv</code>) using only one predictor (<code>lstat</code>: percent of households with low socioeconomic status).</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># First, install the MASS package using the command: install.packages("MASS")</span>

<span class="co"># load MASS package</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/">MASS</a></span><span class="op">)</span>

<span class="co"># Check the dimensions of the Boston dataset</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">Boston</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 506  14</span></code></pre></div>
<p><strong>STEP 1: Split the dataset</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Split the data by using the first 400 observations as the training</span>
<span class="co"># data and the remaining as the testing data</span>
<span class="va">train</span> <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">400</span>
<span class="va">test</span> <span class="op">=</span> <span class="op">-</span><span class="va">train</span>

<span class="co"># Speficy that we are going to use only two variables (lstat and medv)</span>
<span class="va">variables</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">Boston</span><span class="op">)</span> <span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"lstat"</span>, <span class="st">"medv"</span><span class="op">)</span><span class="op">)</span>
<span class="va">training_data</span> <span class="op">=</span> <span class="va">Boston</span><span class="op">[</span><span class="va">train</span>, <span class="va">variables</span><span class="op">]</span>
<span class="va">testing_data</span> <span class="op">=</span> <span class="va">Boston</span><span class="op">[</span><span class="va">test</span>, <span class="va">variables</span><span class="op">]</span>

<span class="co"># Check the dimensions of the new dataset</span>
<span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">training_data</span><span class="op">)</span>
<span class="co">#ans&gt; [1] 400   2</span></code></pre></div>
<p><strong>STEP 2: Check for Linearity</strong></p>
<p>In order to perfom linear regression in <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:steelblue;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg>, we will use the function <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>to fit a simple linear regression with <code>medv</code> as the response (dependent variable) and <code>lstat</code> as the predictor or independent variable, and then save it in <code>model</code>.</p>
<p>But before we run our model, let’s visually check if the relationship between x and y is linear.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Scatterplot of lstat vs. medv</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">training_data</span><span class="op">$</span><span class="va">lstat</span>, <span class="va">training_data</span><span class="op">$</span><span class="va">medv</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-32-1.png" width="70%" style="display: block; margin: auto;"></div>

<div class="rmdexercise">
<p>On the figure above, modify the following:</p>
<ul>
<li>Figure title.</li>
<li>Axis titles.</li>
<li>Shape of observations and their colors.</li>
<li>Sizes of the chosen shape.
</li>
</ul>
</div>

<p>According to the plot, we see that the relationship is not linear. Let’s try a transformation of our explanatory variable <code>lstat</code>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Scatterplot of log(lstat) vs. medv</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">training_data</span><span class="op">$</span><span class="va">lstat</span><span class="op">)</span>, <span class="va">training_data</span><span class="op">$</span><span class="va">medv</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-34-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Look at the plot, it is more linear, so we can proceed and perform <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>:</p>
<p><strong>STEP 3: Run the linear regression model</strong></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">medv</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">lstat</span><span class="op">)</span>, data <span class="op">=</span> <span class="va">training_data</span><span class="op">)</span>
<span class="va">model</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Call:</span>
<span class="co">#ans&gt; lm(formula = medv ~ log(lstat), data = training_data)</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Coefficients:</span>
<span class="co">#ans&gt; (Intercept)   log(lstat)  </span>
<span class="co">#ans&gt;        51.8        -12.2</span></code></pre></div>
<p>Notice that basic information when we print <code>model</code>. This only give us the slope <span class="math inline">\((-12.2)\)</span> and the intercept <span class="math inline">\((51.8)\)</span> of the linear model. Note that here we are looking at <code>log(lstat)</code> and not <code>lstat</code> anymore. So for every one unit increase in <code>lstat</code>, the median value of the house will decrease by <span class="math inline">\(e^{12.2}\)</span>.
For more detailed information, we can use the <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code> function:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Call:</span>
<span class="co">#ans&gt; lm(formula = medv ~ log(lstat), data = training_data)</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Residuals:</span>
<span class="co">#ans&gt;     Min      1Q  Median      3Q     Max </span>
<span class="co">#ans&gt; -11.385  -3.908  -0.779   2.245  25.728 </span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Coefficients:</span>
<span class="co">#ans&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span>
<span class="co">#ans&gt; (Intercept)   51.783      1.097    47.2   &lt;2e-16 ***</span>
<span class="co">#ans&gt; log(lstat)   -12.203      0.472   -25.9   &lt;2e-16 ***</span>
<span class="co">#ans&gt; ---</span>
<span class="co">#ans&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#ans&gt; </span>
<span class="co">#ans&gt; Residual standard error: 5.6 on 398 degrees of freedom</span>
<span class="co">#ans&gt; Multiple R-squared:  0.627,   Adjusted R-squared:  0.626 </span>
<span class="co">#ans&gt; F-statistic:  669 on 1 and 398 DF,  p-value: &lt;2e-16</span></code></pre></div>
<p>Now, we have access to p-values and standard errors for the coefficients, as well as the <span class="math inline">\(R^2\)</span>.</p>
<ul>
<li>The output states that the slope is statistically significant and different from <span class="math inline">\(0\)</span> and with a t-value= <span class="math inline">\(-25.9\)</span> (p-value <span class="math inline">\(&lt; 0.05\)</span>), which means that there is a significant relationship between the percentage of households with low socioeconomic income and the median house value.</li>
<li>This relationship is negative. That is as the percantage of household with low socioeconomic income increases, the median house value decreases.</li>
<li>Looking at <span class="math inline">\(R^2\)</span>, we can deduce that <span class="math inline">\(62.7\%\)</span> of the model variation is being explained by the predictor <code>log(lstat)</code>. This is probably low, but indeed it would increase if we had more independent (explanatory) variables. We can use the <code><a href="https://rdrr.io/r/base/names.html">names()</a></code> function to see what other pieces of information are stored in our linear model (<code>model</code>).</li>
</ul>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span>
<span class="co">#ans&gt;  [1] "coefficients"  "residuals"     "effects"       "rank"         </span>
<span class="co">#ans&gt;  [5] "fitted.values" "assign"        "qr"            "df.residual"  </span>
<span class="co">#ans&gt;  [9] "xlevels"       "call"          "terms"         "model"</span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">model</span><span class="op">$</span><span class="va">coefficients</span>
<span class="co">#ans&gt; (Intercept)  log(lstat) </span>
<span class="co">#ans&gt;        51.8       -12.2</span></code></pre></div>
<p>To obtain the confidence interval for the linear model (<code>model</code>), we can use the <code><a href="https://rdrr.io/r/stats/confint.html">confint()</a></code> function:</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/stats/confint.html">confint</a></span><span class="op">(</span><span class="va">model</span>, level <span class="op">=</span> <span class="fl">0.95</span><span class="op">)</span>
<span class="co">#ans&gt;             2.5 % 97.5 %</span>
<span class="co">#ans&gt; (Intercept)  49.6   53.9</span>
<span class="co">#ans&gt; log(lstat)  -13.1  -11.3</span></code></pre></div>
<p>So, a <span class="math inline">\(95\%\)</span> confidence interval for the slope of <code>log(lstat)</code> is <span class="math inline">\((-13.13, -11.28)\)</span>. Notice that this confidence interval gives us the same result as the hypothesis test performed earlier, by stating that we are <span class="math inline">\(95\%\)</span> confident that the slope of <code>lstat</code> is not zero (in fact it is less than zero, which means that the relationship is negative.)</p>
<p><strong>STEP 4: Plot the regression model</strong></p>
<p>Now, let’s plot our regression line on top of our data.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Scatterplot of lstat vs. medv</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">training_data</span><span class="op">$</span><span class="va">lstat</span><span class="op">)</span>, <span class="va">training_data</span><span class="op">$</span><span class="va">medv</span><span class="op">)</span>

<span class="co"># Add the regression line to the existing scatterplot</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-40-1.png" width="70%" style="display: block; margin: auto;"></div>
<p>Let’s play with the look of the plot, and makes it prettier!</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Scatterplot of lstat vs. medv</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Log.html">log</a></span><span class="op">(</span><span class="va">training_data</span><span class="op">$</span><span class="va">lstat</span><span class="op">)</span>, <span class="va">training_data</span><span class="op">$</span><span class="va">medv</span>,
xlab <span class="op">=</span> <span class="st">"Log Transform of % of Houshold with Low Socioeconomic Income"</span>,
ylab <span class="op">=</span> <span class="st">"Median House Value"</span>,
col <span class="op">=</span> <span class="st">"red"</span>,
pch <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>

<span class="co"># Make the line color blue, and the line's width =3 (play with the width!)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/abline.html">abline</a></span><span class="op">(</span><span class="va">model</span>, col <span class="op">=</span> <span class="st">"blue"</span>, lwd <span class="op">=</span><span class="fl">3</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Machine-Learning_files/figure-html/unnamed-chunk-41-1.png" width="70%" style="display: block; margin: auto;"></div>
<p><strong>STEP 5: Assess the model</strong></p>
<p>Final thing we will do is to predict using our fitted model. We can use
the <code><a href="https://rdrr.io/r/stats/predict.html">predict()</a></code> function for this purpose:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Predict what is the median value of the house with lstat= 5%</span>
<span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>lstat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#ans&gt;    1 </span>
<span class="co">#ans&gt; 32.1</span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Predict what is the median values of houses with lstat= 5%, 10%, and 15%</span>
<span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>lstat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">10</span>,<span class="fl">15</span><span class="op">)</span><span class="op">)</span>, interval <span class="op">=</span> <span class="st">"prediction"</span><span class="op">)</span>
<span class="co">#ans&gt;    fit  lwr  upr</span>
<span class="co">#ans&gt; 1 32.1 21.1 43.2</span>
<span class="co">#ans&gt; 2 23.7 12.7 34.7</span>
<span class="co">#ans&gt; 3 18.7  7.7 29.8</span></code></pre></div>
<p>Now let’s assess our model, by computing th mean squared error (MSE). To assess the model we created, then we will be using the test data!</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Save the testing median values for houses (testing y) in y</span>
<span class="va">y</span> <span class="op">=</span> <span class="va">testing_data</span><span class="op">$</span><span class="va">medv</span>

<span class="co"># Compute the predicted value for this y (y hat)</span>
<span class="va">y_hat</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html">predict</a></span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>lstat <span class="op">=</span> <span class="va">testing_data</span><span class="op">$</span><span class="va">lstat</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Now we have both y and y_hat for our testing data. </span>
<span class="co"># let's find the mean square error</span>
<span class="va">error</span> <span class="op">=</span> <span class="va">y</span><span class="op">-</span><span class="va">y_hat</span>
<span class="va">error_squared</span> <span class="op">=</span> <span class="va">error</span><span class="op">^</span><span class="fl">2</span>
<span class="va">MSE</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">error_squared</span><span class="op">)</span>
<span class="va">MSE</span>
<span class="co">#ans&gt; [1] 17.7</span></code></pre></div>
<p class="text-right">
◼
</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="linear-regression.html"><span class="header-section-number">1</span> Linear Regression</a></div>
<div class="next"><a href="multiple-linear-regression.html"><span class="header-section-number">2</span> Multiple Linear Regression</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#practical-work-1">Practical Work 1</a></li>
<li>
<a class="nav-link" href="#some-basics"><span class="header-section-number">1.8</span> Some  basics</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-commands"><span class="header-section-number">1.8.1</span> Basic Commands</a></li>
<li><a class="nav-link" href="#vectors"><span class="header-section-number">1.8.2</span> Vectors</a></li>
<li><a class="nav-link" href="#matrices-data-frames-and-lists"><span class="header-section-number">1.8.3</span> Matrices, data frames and lists</a></li>
<li><a class="nav-link" href="#graphics"><span class="header-section-number">1.8.4</span> Graphics</a></li>
<li><a class="nav-link" href="#distributions"><span class="header-section-number">1.8.5</span> Distributions</a></li>
<li><a class="nav-link" href="#working-directory"><span class="header-section-number">1.8.6</span> Working directory</a></li>
<li><a class="nav-link" href="#loading-data"><span class="header-section-number">1.8.7</span> Loading Data</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#regression"><span class="header-section-number">1.9</span> Regression</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#the-lm-function"><span class="header-section-number">1.9.1</span> The lm function</a></li>
<li><a class="nav-link" href="#boston"><span class="header-section-number">1.9.2</span> Predicting House Value: Boston dataset</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Machine Learning</strong>" was written by Mohamad Ghassany. It was last built on 2022-04-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
